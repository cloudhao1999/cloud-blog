(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{359:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"数据库配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库配置"}},[s._v("#")]),s._v(" 数据库配置")]),s._v(" "),t("p",[s._v("Djongo使用 SQLite 作为默认数据库，如果你想使用其他数据库，你需要安装合适的 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/topics/install/#database-installation",target:"_blank",rel:"noopener noreferrer"}},[s._v("database bindings"),t("OutboundLink")],1),s._v(" ，然后改变设置文件中 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-DATABASES",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("DATABASES")]),t("OutboundLink")],1),s._v(" "),t("code",[s._v("'default'")]),s._v(" 项目中的一些键值：")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-DATABASE-ENGINE",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("ENGINE")]),t("OutboundLink")],1),s._v(" -- 可选值有 "),t("code",[s._v("'django.db.backends.sqlite3'")]),s._v("，"),t("code",[s._v("'django.db.backends.postgresql'")]),s._v("，"),t("code",[s._v("'django.db.backends.mysql'")]),s._v("，或 "),t("code",[s._v("'django.db.backends.oracle'")]),s._v("。其它 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/databases/#third-party-notes",target:"_blank",rel:"noopener noreferrer"}},[s._v("可用后端"),t("OutboundLink")],1),s._v("。")]),s._v(" "),t("li",[t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-NAME",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("NAME")]),t("OutboundLink")],1),s._v(" - 数据库的名称。如果使用的是 SQLite，数据库将是你电脑上的一个文件，在这种情况下， "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-NAME",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("NAME")]),t("OutboundLink")],1),s._v(" 应该是此文件的绝对路径，包括文件名。默认值 "),t("code",[s._v("os.path.join(BASE_DIR, 'db.sqlite3')")]),s._v(" 将会把数据库文件储存在项目的根目录。")])]),s._v(" "),t("p",[s._v("默认开启的某些应用需要至少一个数据表，所以，在使用他们之前需要在数据库中创建一些表。请执行以下命令：")]),s._v(" "),t("blockquote",[t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("py manage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py migrate\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("h2",{attrs:{id:"创建模型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建模型"}},[s._v("#")]),s._v(" 创建模型")]),s._v(" "),t("p",[s._v("在 Django 里写一个数据库驱动的 Web 应用的第一步是定义模型 - 也就是数据库结构设计和附加的其它元数据。")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("db "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" models\n\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Question")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("models"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Model"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    question_text "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CharField"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("max_length"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    pub_date "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DateTimeField"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'date published'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Choice")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("models"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Model"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    question "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ForeignKey"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Question"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" on_delete"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("models"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CASCADE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    choice_text "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CharField"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("max_length"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    votes "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" models"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("IntegerField"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("p",[s._v("每个字段都是 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/models/fields/#django.db.models.Field",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("Field")]),t("OutboundLink")],1),s._v(" 类的实例 - 比如，字符字段被表示为 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/models/fields/#django.db.models.CharField",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("CharField")]),t("OutboundLink")],1),s._v(" ，日期时间字段被表示为 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/models/fields/#django.db.models.DateTimeField",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("DateTimeField")]),t("OutboundLink")],1),s._v(" 。这将告诉 Django 每个字段要处理的数据类型。")]),s._v(" "),t("h2",{attrs:{id:"激活模型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#激活模型"}},[s._v("#")]),s._v(" 激活模型")]),s._v(" "),t("p",[s._v("上面的一小段用于创建模型的代码给了 Django 很多信息，通过这些信息，Django 可以：")]),s._v(" "),t("ul",[t("li",[s._v("为这个应用创建数据库 schema（生成 "),t("code",[s._v("CREATE TABLE")]),s._v(" 语句）。")]),s._v(" "),t("li",[s._v("创建可以与 "),t("code",[s._v("Question")]),s._v(" 和 "),t("code",[s._v("Choice")]),s._v(" 对象进行交互的 Python 数据库 API。")])]),s._v(" "),t("p",[s._v("但是首先得把 "),t("code",[s._v("polls")]),s._v(" 应用安装到我们的项目里。")]),s._v(" "),t("p",[s._v("为了在我们的工程中包含这个应用，我们需要在配置类 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-INSTALLED_APPS",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("INSTALLED_APPS")]),t("OutboundLink")],1),s._v(" 中添加设置。因为 "),t("code",[s._v("PollsConfig")]),s._v(" 类写在文件 "),t("code",[s._v("polls/apps.py")]),s._v(" 中，所以它的点式路径是 "),t("code",[s._v("'polls.apps.PollsConfig'")]),s._v("。在文件 "),t("code",[s._v("mysite/settings.py")]),s._v(" 中 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/settings/#std:setting-INSTALLED_APPS",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("INSTALLED_APPS")]),t("OutboundLink")],1),s._v(" 子项添加点式路径后，它看起来像这样：")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("INSTALLED_APPS "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'polls.apps.PollsConfig'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.admin'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.auth'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.contenttypes'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.sessions'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.messages'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'django.contrib.staticfiles'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("现在你的 Django 项目会包含 "),t("code",[s._v("polls")]),s._v(" 应用。接着运行下面的命令：")]),s._v(" "),t("blockquote",[t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("py manage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py makemigrations polls\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("p",[s._v("通过运行 "),t("code",[s._v("makemigrations")]),s._v(" 命令，Django 会检测你对模型文件的修改（在这种情况下，你已经取得了新的），并且把修改的部分储存为一次 "),t("em",[s._v("迁移")]),s._v("。")]),s._v(" "),t("p",[s._v("Django 有一个自动执行数据库迁移并同步管理你的数据库结构的命令 - 这个命令是 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/django-admin/#django-admin-migrate",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("migrate")]),t("OutboundLink")],1),s._v("，我们马上就会接触它 - 但是首先，让我们看看迁移命令会执行哪些 SQL 语句。"),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/django-admin/#django-admin-sqlmigrate",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("sqlmigrate")]),t("OutboundLink")],1),s._v(" 命令接收一个迁移的名称，然后返回对应的 SQL：")]),s._v(" "),t("blockquote",[t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("py manage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py sqlmigrate polls "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0001")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("p",[s._v("现在，再次运行 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/django-admin/#django-admin-migrate",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("migrate")]),t("OutboundLink")],1),s._v(" 命令，在数据库里创建新定义的模型的数据表")]),s._v(" "),t("div",{staticClass:"language-py line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-py"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("db "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" models\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Question")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("models"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Model"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ...")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__str__")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("question_text\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Choice")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("models"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Model"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ...")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__str__")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("choice_text\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("给模型增加 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/models/instances/#django.db.models.Model.__str__",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("__str__()")]),t("OutboundLink")],1),s._v(" 方法是很重要的，这不仅仅能给你在命令行里使用带来方便，Django 自动生成的 admin 里也使用这个方法来表示对象。")]),s._v(" "),t("h2",{attrs:{id:"介绍-django-管理页面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#介绍-django-管理页面"}},[s._v("#")]),s._v(" 介绍 Django 管理页面")]),s._v(" "),t("p",[s._v("为你的员工或客户生成一个用户添加，修改和删除内容的后台是一项缺乏创造性和乏味的工作。因此，Django 全自动地根据模型创建后台界面。")]),s._v(" "),t("h3",{attrs:{id:"创建一个管理员账号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建一个管理员账号"}},[s._v("#")]),s._v(" 创建一个管理员账号")]),s._v(" "),t("blockquote",[t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("py manage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py createsuperuser\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("p",[s._v("键入你想要使用的用户名，然后按下回车键：")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("Username"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" admin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("然后提示你输入想要使用的邮件地址：")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("Email address"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" admin@example"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("最后一步是输入密码。你会被要求输入两次密码，第二次的目的是为了确认第一次输入的确实是你想要的密码。")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("Password"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),s._v("\nPassword "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("again"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("**")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\nSuperuser created successfully"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"启动开发服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动开发服务器"}},[s._v("#")]),s._v(" 启动开发服务器")]),s._v(" "),t("p",[s._v("Django 的管理界面默认就是启用的")]),s._v(" "),t("blockquote",[t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("py manage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py runserver\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("p",[s._v('现在，打开浏览器，转到你本地域名的 "/admin/" 目录， -- 比如 "http://127.0.0.1:8000/admin/" 。你应该会看见管理员登录界面：')]),s._v(" "),t("h2",{attrs:{id:"向管理页面中加入投票应用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#向管理页面中加入投票应用"}},[s._v("#")]),s._v(" 向管理页面中加入投票应用")]),s._v(" "),t("p",[s._v("打开"),t("code",[s._v("polls/admin.py")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" django"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("contrib "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" admin\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("models "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Question\n\nadmin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("site"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("register"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Question"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[s._v("注意事项：")]),s._v(" "),t("ul",[t("li",[s._v("这个表单是从问题 "),t("code",[s._v("Question")]),s._v(" 模型中自动生成的")]),s._v(" "),t("li",[s._v("不同的字段类型（日期时间字段 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/models/fields/#django.db.models.DateTimeField",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("DateTimeField")]),t("OutboundLink")],1),s._v(" 、字符字段 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/models/fields/#django.db.models.CharField",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("CharField")]),t("OutboundLink")],1),s._v("）会生成对应的 HTML 输入控件。每个类型的字段都知道它们该如何在管理页面里显示自己。")]),s._v(" "),t("li",[s._v("每个日期时间字段 "),t("a",{attrs:{href:"https://docs.djangoproject.com/zh-hans/3.0/ref/models/fields/#django.db.models.DateTimeField",target:"_blank",rel:"noopener noreferrer"}},[t("code",[s._v("DateTimeField")]),t("OutboundLink")],1),s._v(" 都有 JavaScript 写的快捷按钮。日期有转到今天（Today）的快捷按钮和一个弹出式日历界面。时间有设为现在（Now）的快捷按钮和一个列出常用时间的方便的弹出式列表。")])]),s._v(" "),t("p",[s._v("页面的底部提供了几个选项：")]),s._v(" "),t("ul",[t("li",[s._v("保存（Save） - 保存改变，然后返回对象列表。")]),s._v(" "),t("li",[s._v("保存并继续编辑（Save and continue editing） - 保存改变，然后重新载入当前对象的修改界面。")]),s._v(" "),t("li",[s._v("保存并新增（Save and add another） - 保存改变，然后添加一个新的空对象并载入修改界面。")]),s._v(" "),t("li",[s._v("删除（Delete） - 显示一个确认删除页面。")])])])}),[],!1,null,null,null);t.default=e.exports}}]);