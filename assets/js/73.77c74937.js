(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{398:function(s,a,t){"use strict";t.r(a);var e=t(4),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"_1、前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、前言"}},[s._v("#")]),s._v(" 1、前言")]),s._v(" "),a("p",[s._v("学习视频源自：【狂神说Java】MySQL最新教程通俗易懂")]),s._v(" "),a("p",[s._v("B站视频链接：https://www.bilibili.com/video/BV1NJ411J79W")]),s._v(" "),a("p",[s._v("[video(video-4IYyPI1C-1589717216258)(type-bilibili)(url-https://player.bilibili.com/player.html?aid=83395424)(image-https://ss.csdn.net/p?http://i0.hdslb.com/bfs/archive/efacc6aa636d653b8b5c2984988eaed4f428132c.jpg)(title-【狂神说Java】MySQL最新教程通俗易懂)]")]),s._v(" "),a("p",[s._v("笔记为看视频自行撰写，仅限学习交流使用")]),s._v(" "),a("h4",{attrs:{id:"_1-1、上一篇文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1、上一篇文章"}},[s._v("#")]),s._v(" 1.1、上一篇文章")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://blog.csdn.net/qq_18297883/article/details/106460312",target:"_blank",rel:"noopener noreferrer"}},[s._v("MySQL学习笔记7：MySQL索引配合大量数据的使用"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"_9、权限管理和数据库备份"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9、权限管理和数据库备份"}},[s._v("#")]),s._v(" 9、权限管理和数据库备份")]),s._v(" "),a("h4",{attrs:{id:"_9-1、用户管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-1、用户管理"}},[s._v("#")]),s._v(" 9.1、用户管理")]),s._v(" "),a("blockquote",[a("p",[s._v("SQL Navicat可视化管理")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9naXRlZS5jb20vY3loMTk5OTEwL3BlcnNvbmFsX3BpY3R1cmVfYmVkL3Jhdy9tYXN0ZXIvaW1nL2ltYWdlLTIwMjAwNTMxMTg1MzEwNzEzLnBuZw?x-oss-process=image/format,png",alt:"image-20200531185310713"}})]),s._v(" "),a("blockquote",[a("p",[s._v("SQL 命令操作")])]),s._v(" "),a("p",[s._v("用户表:mysqluser")]),s._v(" "),a("p",[s._v("本质：对这张表增删改查")]),s._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 创建用户 CREATE USER 用户名 IDENTIFIED BY '密码'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" zhuzhu IDENTIFIED "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("BY")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'123456'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 修改密码（修改当前用户密码）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" PASSWORD "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'111111'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 修改密码（修改指定用户密码）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SET")]),s._v(" PASSWORD "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" zhuzhu "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'111111'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- more --\x3e")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 重命名 RENAME USER 原来的名字 TO 新名字")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RENAME")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" zhuzhu "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" dazhuzhu\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 用户授权 GRANT ALL PRIVILEGES 全部的权限，库，表")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- ALL PRIVILEGES 除了给别人授权，其他都能干")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("GRANT")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("TO")]),s._v(" zhuzhu\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查看权限")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" GRANTS "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" zhuzhu "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查看指定用户的权限")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SHOW")]),s._v(" GRANTS "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FOR")]),s._v(" root"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@localhost")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查看root用户的权限")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 撤销权限 REVOKE 哪些权限，在那个库，给谁撤销")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("REVOKE")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ALL")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("PRIVILEGES")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ON")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" zhuzhu\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 删除用户")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DROP")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("USER")]),s._v(" zhuzhu\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("h4",{attrs:{id:"_9-2、mysql备份"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-2、mysql备份"}},[s._v("#")]),s._v(" 9.2、MySQL备份")]),s._v(" "),a("p",[s._v("为什么要备份")]),s._v(" "),a("ul",[a("li",[s._v("保证重要的数据不丢失")]),s._v(" "),a("li",[s._v("数据转移")])]),s._v(" "),a("p",[s._v("MySQL数据库备份的方式")]),s._v(" "),a("ul",[a("li",[s._v("直接拷贝物理文件")]),s._v(" "),a("li",[s._v("在可视化工具中手动导出\n"),a("ul",[a("li",[s._v("在想要导出的表或库中右键选择转储")]),s._v(" "),a("li",[s._v("[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2k72sQJ7-1591101634138)(https://gitee.com/cyh199910/personal_picture_bed/raw/master/img/屏幕截图(1)].png)")])])]),s._v(" "),a("li",[s._v("使用命令行导出 mysqldump")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysqldump -h 主机 -u 用户名 -p密码 数据库 表名 > 物理磁盘位置/文件名")]),s._v("\nmysqldump "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" localhost "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" root "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p123456")]),s._v(" school student "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" D:/a.sql\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysqldump -h 主机 -u 用户名 -p密码 数据库 表1 表2 表3 > 物理磁盘位置/文件名")]),s._v("\nmysqldump "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" localhost "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" root "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p123456")]),s._v(" school student result "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" D:/a.sql\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysqldump -h 主机 -u 用户名 -p密码 数据库 > 物理磁盘位置/文件名")]),s._v("\nmysqldump "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" localhost "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" root "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p123456")]),s._v(" school "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" D:/a.sql\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 命令行操作导入sql，登录的情况下")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# source 备份文件路径")]),s._v("\nmysql "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-uroot")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p123456")]),s._v("\nuse school"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" D:/a.sql\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不登录情况下")]),s._v("\nmysql -u用户名 -p密码 库名"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" 备份文件 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("假设你要备份数据库，防止数据丢失")]),s._v(" "),a("p",[s._v("把数据库给朋友，sql文件给别人即可")]),s._v(" "),a("h3",{attrs:{id:"_10、规范数据库设计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10、规范数据库设计"}},[s._v("#")]),s._v(" 10、规范数据库设计")]),s._v(" "),a("h4",{attrs:{id:"_10-1、为什么需要设计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-1、为什么需要设计"}},[s._v("#")]),s._v(" 10.1、为什么需要设计")]),s._v(" "),a("p",[s._v("当数据库比较复杂的时候，就需要设计了")]),s._v(" "),a("p",[s._v("糟糕的数据库设计：")]),s._v(" "),a("ul",[a("li",[s._v("数据冗余，浪费空间")]),s._v(" "),a("li",[s._v("数据插入和删除都比较麻烦，可能会产生异常")]),s._v(" "),a("li",[s._v("程序的性能差")])]),s._v(" "),a("p",[s._v("良好的数据库设计：")]),s._v(" "),a("ul",[a("li",[s._v("节省内存空间")]),s._v(" "),a("li",[s._v("保证数据的完整性，屏蔽使用物理外键")]),s._v(" "),a("li",[s._v("方便我们开发系统")])]),s._v(" "),a("p",[s._v("软件开发中，关于数据库的设计")]),s._v(" "),a("ul",[a("li",[s._v("分析需求：分析业务和需要处理的数据的需求")]),s._v(" "),a("li",[s._v("概要设计：设计关系图E-R图")])]),s._v(" "),a("p",[a("strong",[s._v("设计数据库的步骤（个人博客）")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("收集信息、分析需求")]),s._v(" "),a("ul",[a("li",[s._v("用户表（用户登录注销，用户的个人信息，写博客，创建分类）")]),s._v(" "),a("li",[s._v("分类表（文章分类，谁创建的）")]),s._v(" "),a("li",[s._v("评论表")]),s._v(" "),a("li",[s._v("文章表（文章的信息）")]),s._v(" "),a("li",[s._v("友链表（友链信息）")]),s._v(" "),a("li",[s._v("自定义表（系统信息，某个关键的字，或者一些主字段） key : value")]),s._v(" "),a("li",[s._v("说说表（发表心情）")])])]),s._v(" "),a("li",[a("p",[s._v("标识实体（把需求落地到每个字段）")])]),s._v(" "),a("li",[a("p",[s._v("标识实体之间的关系")]),s._v(" "),a("ul",[a("li",[s._v("写博客：user --\x3e blog")]),s._v(" "),a("li",[s._v("创建分类：user --\x3e category")]),s._v(" "),a("li",[s._v("关注：user --\x3euser")]),s._v(" "),a("li",[s._v("友链：links")]),s._v(" "),a("li",[s._v("评论：user --\x3e user --\x3e blog")])])])]),s._v(" "),a("h4",{attrs:{id:"_10-2、三大范式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-2、三大范式"}},[s._v("#")]),s._v(" 10.2、三大范式")]),s._v(" "),a("p",[a("strong",[s._v("为什么需要数据规范化？")])]),s._v(" "),a("ul",[a("li",[s._v("信息重复")]),s._v(" "),a("li",[s._v("更新异常")]),s._v(" "),a("li",[s._v("插入异常\n"),a("ul",[a("li",[s._v("无法正常显示信息")])])]),s._v(" "),a("li",[s._v("删除异常\n"),a("ul",[a("li",[s._v("丢失有效的信息")])])])]),s._v(" "),a("blockquote",[a("p",[s._v("三大范式")])]),s._v(" "),a("p",[s._v("学习链接：https://www.cnblogs.com/wsg25/p/9615100.html")]),s._v(" "),a("p",[a("strong",[s._v("第一范式（1NF）")])]),s._v(" "),a("p",[s._v("原子性：保证每一列不可再分")]),s._v(" "),a("p",[a("strong",[s._v("第二范式（2NF）")])]),s._v(" "),a("p",[s._v("前提：满足第一范式前提下")]),s._v(" "),a("p",[s._v("每张表只描述一件事情")]),s._v(" "),a("p",[a("strong",[s._v("第三范式（3NF）")])]),s._v(" "),a("p",[s._v("前提：满足第一和第二范式")]),s._v(" "),a("p",[s._v("第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关。")]),s._v(" "),a("p",[s._v("规范数据库的设计")]),s._v(" "),a("p",[a("strong",[s._v("规范性和性能的问题")])]),s._v(" "),a("p",[s._v("关联查询的表不得超过三张表")]),s._v(" "),a("ul",[a("li",[s._v("考虑商业化的需求和目标（成本、用户体验）数据库的性能更加重要")]),s._v(" "),a("li",[s._v("在规范性能的问题的时候，需要适当考虑一下规范性")]),s._v(" "),a("li",[s._v("故意给某些表增加一些冗余的字段（从多表查询变为单表查询）")]),s._v(" "),a("li",[s._v("故意增加一些计算列（从大数据量降低为小数据量的查询、索引）")])])])}),[],!1,null,null,null);a.default=r.exports}}]);